@namespace LionFire.OpenCode.Blazor.Components.Shared

<div class="opencode-logo @SizeClass @Class" title="OpenCode">
    <svg viewBox="0 0 32 32" width="@GetSize()" height="@GetSize()" fill="none" xmlns="http://www.w3.org/2000/svg">
        @if (Variant == LogoVariant.Full)
        {
            <!-- Full logo with text -->
            <g class="logo-mark">
                @((MarkupString)LogoMarkSvg)
            </g>
        }
        else
        {
            <!-- Icon only -->
            @((MarkupString)LogoMarkSvg)
        }
    </svg>
    @if (Variant == LogoVariant.Full && ShowText)
    {
        <span class="logo-text">OpenCode</span>
    }
</div>

@code {
    [Parameter] public LogoSize Size { get; set; } = LogoSize.Medium;
    [Parameter] public LogoVariant Variant { get; set; } = LogoVariant.Icon;
    [Parameter] public bool ShowText { get; set; } = true;
    [Parameter] public string? Class { get; set; }

    private string SizeClass => Size switch
    {
        LogoSize.Tiny => "logo-tiny",
        LogoSize.Small => "logo-small",
        LogoSize.Medium => "logo-medium",
        LogoSize.Large => "logo-large",
        LogoSize.XLarge => "logo-xlarge",
        _ => "logo-medium"
    };

    private int GetSize() => Size switch
    {
        LogoSize.Tiny => 16,
        LogoSize.Small => 24,
        LogoSize.Medium => 32,
        LogoSize.Large => 48,
        LogoSize.XLarge => 64,
        _ => 32
    };

    // OpenCode-style logo mark - stylized code brackets with circle
    private const string LogoMarkSvg = @"
        <!-- Outer ring -->
        <circle cx=""16"" cy=""16"" r=""14"" stroke=""var(--logo-primary, #6366F1)"" stroke-width=""2"" fill=""none""/>

        <!-- Left bracket < -->
        <path d=""M13 10L8 16L13 22"" stroke=""var(--logo-primary, #6366F1)"" stroke-width=""2.5"" stroke-linecap=""round"" stroke-linejoin=""round"" fill=""none""/>

        <!-- Right bracket > -->
        <path d=""M19 10L24 16L19 22"" stroke=""var(--logo-secondary, #8B5CF6)"" stroke-width=""2.5"" stroke-linecap=""round"" stroke-linejoin=""round"" fill=""none""/>

        <!-- Center dot -->
        <circle cx=""16"" cy=""16"" r=""2"" fill=""var(--logo-accent, #A855F7)""/>
    ";
}
